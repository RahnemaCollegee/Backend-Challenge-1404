## سیستم Feature Flag (۳۵۰ امتیاز)

Feature Flag یا Feature Toggle تکنیکی است که در آن می‌توان یک قابلیت خاص از یک سیستم یا نرم‌افزار را برای برخی از کاربران فعال یا غیرفعال کرد، بدون آن‌که نیاز به تغییر در کد یا انتشار مجدد برنامه باشد.

در این سوال باید یک سیستم ساده برای مدیریت **Feature Flag**‌ها پیاده‌سازی کنید.

<br/>

### وظیفه شما چیست؟

یک کلاس پیاده‌سازی کنید که قابلیت‌های زیر را داشته باشد:

- اضافه کردن یک قابلیت به سیستم
- حذف یک قابلیت از سیستم
- فعال‌سازی یک قابلیت **برای همه کاربران**
- فعال‌سازی یک قابلیت فقط برای **کاربران مشخص**
- بررسی اینکه یک قابلیت برای یک کاربر خاص فعال است یا نه

<br/>

### مشخصات کلاس:

کلاس شما باید حداقل شامل متدهای زیر باشد:

```ts
// قابلیت مشخص‌شده را به سیستم اضافه میکند. این قابلیت در ابتدا برای همه‌ی کاربران غیرفعال است..
addFeature(feature: string): void

// قابلیت مشخص‌شده را به طور کامل از سیستم حذف می‌کند.
disableFeature(feature: string): void

// این متد یک قابلیت را برای تمام کاربران فعال می‌کند.
enableFeature(feature: string): void


// این متد یک قابلیت را برای گروهی مشخص از کاربران فعال می‌کند.
enableFeatureForUsers(
  feature: string,    // نام قابلیت
  userIds: number[],  // آیدی کاربرانی که این قابلیت برایشان فعال می‌شود
): void

// این متد بررسی می‌کند که آیا قابلیت داده‌شده برای کاربر مشخص فعال است یا نه.
// اگر این قابلیت به صورت کلی یا برای آن کاربر فعال شده باشد، خروجی true خواهد بود.
isFeatureEnabled(feature: string, userId: number): boolean


// لیستی از تمام قابلیت‌هایی که برای کاربر داده‌شده فعال هستند را برمی‌گرداند.
listEnabledFeatures(userId: number): string[]

```

مثال:

```ts
const flags = new FeatureFlagSystem();

flags.addFeature("dark-mode"); // قابلیت دارک مود به سیستم اضافه میشود
flags.addFeature("new-ui"); //  قابلیت UI جدید به سیستم اضافه میشود
flags.enableFeature("dark-mode"); // تمام کاربران میتوانند از قابلیت دارک مود استفاده نمایند
flags.enableFeatureForUsers("new-ui", { users: [42, 77] }); // تنها کاربران با آیدی 42 و 77 می‌توانند از UI جدید استفاده کنند

flags.isFeatureEnabled("dark-mode", 123); // true
flags.isFeatureEnabled("new-ui", 42); // true
flags.isFeatureEnabled("new-ui", 12); // false
flags.isFeatureEnabled("promo", 99); // false
flags.listEnabledFeatures(42); // ["new-ui", "dark-mode"]
flags.listEnabledFeatures(2); // ["dark-mode"]
```

<br/>
نکات مهم:

<div dir="rtl">
<li>برای نوشتن این برنامه میتواند از هر زبانی که میخواهید استفاده نمایید.</li>
<li>
فقط از ساختارهای داده ساده (مثل Map، Set، Object و ...) استفاده کنید.
</li>
<li>
پیاده‌سازی باید در حافظه (in-memory) انجام شود. از دیتابیس یا فایل استفاده نکنید.
</li>
<li>
نیاز به ساخت تست ندارید ولی ساختن تست امتیاز مثبت دارد.
</li>
<li>
پیاده‌سازی باید خوانا، قابل توسعه و تمیز باشد.
</li>
<br/>
محدودیت‌ها:
<div dir="rtl"> <li>نام قابلیت‌ها رشته‌هایی متشکل از حروف کوچک انگلیسی هستند.</li> <li>userId همیشه عدد صحیح مثبت است.</li> <li>تعداد قابلیت‌ها کمتر از ۱۰۰۰ و تعداد کاربران نیز کمتر از ۱۰۰۰۰ در نظر گرفته می‌شود.</li> </div> <br/>
